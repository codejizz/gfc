<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manufacturing Dashboard</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f0f0f0;
            margin: 0;
            padding: 20px;
        }
        .dashboard {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-around;
            max-width: 1200px;
            margin: 0 auto;
        }
        .kpi {
            width: 200px;
            height: 180px;
            margin: 10px;
            background-color: #fff;
            border-radius: 10px;
            padding: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            position: relative;
        }
        .kpi-title {
            font-size: 14px;
            font-weight: bold;
            color: #333;
            text-align: center;
            margin-bottom: 5px;
        }
        .gauge {
            width: 100%;
            height: 100px;
            position: relative;
        }
        .gauge-bg {
            fill: none;
            stroke: #e0e0e0;
            stroke-width: 15;
        }
        .gauge-fill {
            fill: none;
            stroke-width: 15;
            stroke-linecap: round;
            transition: stroke-dasharray 0.5s ease;
        }
        .gauge-indicator {
            stroke: #000;
            stroke-width: 3;
            stroke-linecap: round;
        }
        .gauge-value {
            font-size: 24px;
            font-weight: bold;
            text-anchor: middle;
            fill: #007bff;
        }
    </style>
</head>
<body>
    <div class="dashboard">
        <div class="kpi">
            <div class="kpi-title">Mean Time To Repair</div>
            <svg class="gauge" viewBox="0 0 100 50">
                <path class="gauge-bg" d="M10 45 A 40 40 0 0 1 90 45" />
                <path class="gauge-fill" d="M10 45 A 40 40 0 0 1 90 45" />
                <line class="gauge-indicator" x1="50" y1="45" x2="50" y2="5" />
                <text class="gauge-value" x="50" y="45">0h</text>
            </svg>
        </div>
        <div class="kpi">
            <div class="kpi-title">Non-compliance Events Per Year</div>
            <svg class="gauge" viewBox="0 0 100 50">
                <path class="gauge-bg" d="M10 45 A 40 40 0 0 1 90 45" />
                <path class="gauge-fill" d="M10 45 A 40 40 0 0 1 90 45" />
                <line class="gauge-indicator" x1="50" y1="45" x2="50" y2="5" />
                <text class="gauge-value" x="50" y="45">0</text>
            </svg>
        </div>
        <div class="kpi">
            <div class="kpi-title">On-time Delivery</div>
            <svg class="gauge" viewBox="0 0 100 50">
                <path class="gauge-bg" d="M10 45 A 40 40 0 0 1 90 45" />
                <path class="gauge-fill" d="M10 45 A 40 40 0 0 1 90 45" />
                <line class="gauge-indicator" x1="50" y1="45" x2="50" y2="5" />
                <text class="gauge-value" x="50" y="45">0%</text>
            </svg>
        </div>
        <div class="kpi">
            <div class="kpi-title">Overall Equipment Effectiveness</div>
            <svg class="gauge" viewBox="0 0 100 50">
                <path class="gauge-bg" d="M10 45 A 40 40 0 0 1 90 45" />
                <path class="gauge-fill" d="M10 45 A 40 40 0 0 1 90 45" />
                <line class="gauge-indicator" x1="50" y1="45" x2="50" y2="5" />
                <text class="gauge-value" x="50" y="45">0%</text>
            </svg>
        </div>
        <div class="kpi">
            <div class="kpi-title">Overall Operating Efficiency</div>
            <svg class="gauge" viewBox="0 0 100 50">
                <path class="gauge-bg" d="M10 45 A 40 40 0 0 1 90 45" />
                <path class="gauge-fill" d="M10 45 A 40 40 0 0 1 90 45" />
                <line class="gauge-indicator" x1="50" y1="45" x2="50" y2="5" />
                <text class="gauge-value" x="50" y="45">0%</text>
            </svg>
        </div>
        <div class="kpi">
            <div class="kpi-title">Percentage Maintenance Planned</div>
            <svg class="gauge" viewBox="0 0 100 50">
                <path class="gauge-bg" d="M10 45 A 40 40 0 0 1 90 45" />
                <path class="gauge-fill" d="M10 45 A 40 40 0 0 1 90 45" />
                <line class="gauge-indicator" x1="50" y1="45" x2="50" y2="5" />
                <text class="gauge-value" x="50" y="45">0%</text>
            </svg>
        </div>
        <div class="kpi">
            <div class="kpi-title">Plant Downtime</div>
            <svg class="gauge" viewBox="0 0 100 50">
                <path class="gauge-bg" d="M10 45 A 40 40 0 0 1 90 45" />
                <path class="gauge-fill" d="M10 45 A 40 40 0 0 1 90 45" />
                <line class="gauge-indicator" x1="50" y1="45" x2="50" y2="5" />
                <text class="gauge-value" x="50" y="45">0%</text>
            </svg>
        </div>
    </div>

    <script>
        function setGaugeValue(gauge, value, maxValue, unit, inverse = false) {
            const indicator = gauge.querySelector('.gauge-indicator');
            const fill = gauge.querySelector('.gauge-fill');
            const valueText = gauge.querySelector('.gauge-value');
            const fillPercentage = inverse ? 1 - (value / maxValue) : (value / maxValue);
            const angle = fillPercentage * 180 - 90;
            indicator.style.transform = `rotate(${angle}deg)`;
            indicator.style.transformOrigin = '50% 45px';

            // Set color based on value
            let color;
            if (inverse) {
                color = fillPercentage > 0.66 ? '#2ecc40' : (fillPercentage > 0.33 ? '#ffdc00' : '#ff4136');
            } else {
                color = fillPercentage > 0.66 ? '#2ecc40' : (fillPercentage > 0.33 ? '#ffdc00' : '#ff4136');
            }
            fill.style.stroke = color;

            // Set fill
            const circumference = Math.PI * 40;
            const fillOffset = circumference * (1 - fillPercentage);
            fill.style.strokeDasharray = `${circumference} ${circumference}`;
            fill.style.strokeDashoffset = fillOffset;

            // Update value text
            valueText.textContent = `${value.toFixed(1)}${unit}`;
        }

        function updateData() {
            const kpis = {
                'Mean Time To Repair': { value: Math.random() * 5, max: 5, unit: 'h', inverse: true },
                'Non-compliance Events Per Year': { value: Math.floor(Math.random() * 20), max: 20, unit: '', inverse: true },
                'On-time Delivery': { value: Math.random() * 20 + 80, max: 100, unit: '%' },
                'Overall Equipment Effectiveness': { value: Math.random() * 20 + 75, max: 100, unit: '%' },
                'Overall Operating Efficiency': { value: Math.random() * 15 + 80, max: 100, unit: '%' },
                'Percentage Maintenance Planned': { value: Math.random() * 30 + 65, max: 100, unit: '%' },
                'Plant Downtime': { value: Math.random() * 5, max: 5, unit: '%', inverse: true }
            };

            document.querySelectorAll('.kpi').forEach(kpi => {
                const title = kpi.querySelector('.kpi-title').textContent;
                const data = kpis[title];
                if (data) {
                    const gauge = kpi.querySelector('.gauge');
                    setGaugeValue(gauge, data.value, data.max, data.unit, data.inverse);
                }
            });
        }

        // Update data every 5 seconds
        setInterval(updateData, 5000);

        // Initial update
        updateData();
    </script>
</body>
</html>